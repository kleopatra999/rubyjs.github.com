// Generated by CoffeeScript 1.3.3
(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b=[].slice,w={}.hasOwnProperty,E=function(e,t){function r(){this.constructor=e}for(var n in t)w.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};m=typeof global!="undefined"&&global!==null?global:window,m.RubyJS=function(e){return RubyJS.Base.prototype.box(e)},RubyJS.VERSION="0.0.1",c=Array,h=Number,p=Object,d=RegExp,v=String,RubyJS.extend=function(e,t){var n,r;for(r in t)n=t[r],e[r]=n;return e},m.R=RubyJS,typeof exports!="undefined"&&(exports.R=R,exports.RubyJS=RubyJS),g=Object.prototype.toString,RubyJS.Kernel=function(){function e(){}return e.prototype.rubyjs=function(){return!0},e.prototype.box=function(e,t,n){var r,i,s;return e===void 0||e===null?e:(r=typeof e,r==="number"?RubyJS.Numeric.typecast(e):r==="string"?new R.String(e):e.rubyjs!=null?e:(s=e.__rubyjs_typecast)?s(e):RubyJS.String.isString(e)?i=RubyJS.String.try_convert(e):(i=RubyJS.Array.try_convert(e),i||(i=RubyJS.Numeric.try_convert(e)),i||(i=RubyJS.RegExp.try_convert(e)),i||e))},e.prototype._box=e.prototype.box,e.prototype.w=function(e){return R(e).split(/\s+/)},e.prototype.r=function(e,t,n){return n?R.Range["new"](e,t,!0):R.Range["new"](e,t)},e.prototype.l=function(e,t){return t==null&&(t=!1),typeof e=="object"?e.literal!=null?e.literal():e:e},e.prototype.catch_break=function(e,t){var n;t==null&&(t=this),n=new R.Breaker;try{return e.call(t,n)}catch(r){return n.handle_break(r)}},e.prototype.$array=function(e){return RubyJS.Array["new"](e)},e.prototype.$array_r=function(e){var t;return RubyJS.Array["new"](function(){var n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],i.push(R.box(t));return i}())},e.prototype.$float=function(e){var t;e=this.box(e);if(e===null)throw RubyJS.TypeError["new"]();if(e.to_f==null)throw RubyJS.TypeError["new"]();if(e.is_float!=null)return e;if(e.is_string!=null){t=e.strip();if(t.valid_float())return new RubyJS.Float(+t.unbox().replace(/_/g,""));throw RubyJS.ArgumentError["new"]()}return e.rubyjs!=null?new RubyJS.Float(e.unbox()):new RubyJS.Float(e)},e.prototype.$integer=function(e){var t;e=this.box(e);if(e===null||e===void 0)throw RubyJS.TypeError["new"]();if(e.is_integer!=null)return e;if(e.is_string!=null){t=e.strip();if(t.valid_float())return new RubyJS.Fixnum(Math.floor(+t.unbox().replace(/_/g,"")));throw RubyJS.ArgumentError["new"]()}return e.rubyjs!=null?new RubyJS.Fixnum(Math.floor(e.unbox())):new RubyJS.Fixnum(Math.floor(e))},e.prototype.$int=e.prototype.$integer,e.prototype.$string=function(e){return RubyJS.String.try_convert(e)||function(){throw RubyJS.TypeError["new"]()}()},e.prototype.$range=function(e,t,n){return RubyJS.Range["new"](e,t,n)},e.prototype.rng=e.prototype.$range,e.prototype.puts=function(e){return console.log(e)},e.prototype.rand=function(e){var t;return t=R(Math.random()),e?t.multiply(e).to_i():t},e.prototype.equals=function(){return this["=="].apply(this,arguments)},e.prototype.equal_case=function(){return this["==="].apply(this,arguments)},e.prototype.cmp=function(){return this["<=>"].apply(this,arguments)},e.prototype.modulo=function(){return this["%"].apply(this,arguments)},e.prototype.plus=function(){return this["+"].apply(this,arguments)},e.prototype.minus=function(){return this["-"].apply(this,arguments)},e.prototype.multiply=function(){return this["*"].apply(this,arguments)},e.prototype.exp=function(){return this["**"].apply(this,arguments)},e.prototype.divide=function(){return this["/"].apply(this,arguments)},e}(),s=function(){function e(){}return e.prototype.single_block_args=function(e,t){return t?t.length!==1?e.length>1?Array.prototype.slice.call(e):e[0]:e[0]:e.length!==1?Array.prototype.slice.call(e):e[0]},e.prototype.coerce=function(e,t,n){if(n!==void 0&&n===typeof e)return e;if(e===null||e===void 0)throw new R.TypeError["new"];e=R(e);if(e[t]==null)throw RubyJS.TypeError["new"]("TypeError: cant't convert ... into String");return n!==void 0?e[t]().literal():e[t]()},e.prototype.to_num_literal=function(e){if(typeof e=="number")return e;e=R(e);if(e.is_numeric==null)throw RubyJS.TypeError["new"]();return e.literal()},e.prototype.to_int=function(e){return this.coerce(e,"to_int")},e.prototype.to_int_literal=function(e){return typeof e=="number"&&e%1===0?e:this.coerce(e,"to_int").literal()},e.prototype.to_str=function(e){return this.coerce(e,"to_str")},e.prototype.to_str_literal=function(e){return this.coerce(e,"to_str","string")},e.prototype.to_ary=function(e){return this.coerce(e,"to_ary")},e}(),o=s.prototype,RubyJS.Object=function(){function e(){}return e.include=function(e){var t,n,r;r=e.prototype;for(n in r)t=r[n],this.prototype[n]||(this.prototype[n]=t);return e},e.include(RubyJS.Kernel),e.prototype.__ensure_args_length=function(e,t){if(e.length!==t)throw RubyJS.ArgumentError["new"]()},e.prototype.__ensure_numeric=function(e){if((e!=null?e.is_numeric:void 0)==null)throw RubyJS.TypeError["new"]()},e.prototype.__ensure_string=function(e){if((e!=null?e.is_string:void 0)==null)throw RubyJS.TypeError["new"]()},e.prototype.__extract_block=function(e){var t,n,r,i;for(t=n=r=e.length-1;r<=0?n<=0:n>=0;t=r<=0?++n:--n)if(((i=e[t])!=null?i.call:void 0)!=null)return e.pop(t);return null},e.prototype.send=function(){var e,t;return t=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],this[t](e)},e.prototype.respond_to=function(e){return this[e]!=null},e.prototype.to_enum=function(){var e,t;return t=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],t==null&&(t="each"),function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t),s=typeof i;return s=="object"||s=="function"?i||r:r}(RubyJS.Enumerator,[this,t].concat(b.call(e)),function(){})},e.prototype.to_lit=function(){return this.literal()},e.prototype.tap=function(e){return e(this),this},e}(),RubyJS.NilClass=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.instance=function(){return new t},t.prototype.nil=function(){return!0},t.prototype.inspect=function(){return this.to_s()},t.prototype.to_a=function(){return this.$array([])},t.prototype.to_i=function(){return this.$int(0)},t.prototype.to_f=function(){return this.$float(0)},t.prototype.to_s=function(){return this.$string("")},t}(RubyJS.Object),RubyJS.Breaker=function(){function e(e,t){this.return_value=e!=null?e:null,this.broken=t!=null?t:!1}return e.prototype["break"]=function(e){throw this.broken=!0,this.return_value=e,this},e.prototype.handle_break=function(e){if(this===e)return e.return_value;throw e},e}(),RubyJS.Base=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.include(RubyJS.Kernel),t.prototype["$~"]=null,t.prototype["$,"]=null,t.prototype["$;"]="\n",t.prototype["$/"]="\n",t.prototype.inspect=function(e){return e?e.inspect!=null?e.inspect():RubyJS.Array.isNativeArray(e)?"["+e+"]":e:"null"},t.prototype.register_type_handlers=function(){return Array.prototype.__rubyjs_typecast=RubyJS.Array.typecast,String.prototype.__rubyjs_typecast=RubyJS.String["new"],Number.prototype.__rubyjs_typecast=RubyJS.Numeric.typecast},t.prototype.deregister_type_handlers=function(){return Array.prototype.__rubyjs_typecast=void 0,String.prototype.__rubyjs_typecast=void 0,Number.prototype.__rubyjs_typecast=void 0},t.prototype.string_to_proc=function(e){return R.isFunction(e)?e:RubyJS.String.isString(e)?function(t){return t[e]()}:null},t.prototype.isFunction=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},t.prototype.falsey=function(e){return e===!1||e===null||e===void 0},t.prototype.unbox=function(e,t){return t==null&&(t=!1),e.unbox(t)},t.prototype.respond_to=function(e,t){return e[t]!==void 0},t.prototype.extend=function(e,t){var n,r;for(r in t)n=t[r],e[r]=n;return e},t}(RubyJS.Object),y=RubyJS.Base.prototype;for(l in y)f=y[l],RubyJS[l]=f;RubyJS.ArgumentError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.ArgumentError("ArgumentError")},t}(Error),RubyJS.RegexpError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.RegexpError("RegexpError")},t}(Error),RubyJS.TypeError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.TypeError("TypeError")},t}(Error),RubyJS.IndexError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.IndexError("IndexError")},t}(Error),RubyJS.FloatDomainError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.FloatDomainError("FloatDomainError")},t}(Error),RubyJS.RangeError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.RangeError("RangeError")},t}(Error),RubyJS.StandardError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.StandardError("StandardError")},t}(Error),RubyJS.ZeroDivisionError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.ZeroDivisionError("ZeroDivisionError")},t}(Error),RubyJS.NotSupportedError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.NotSupportedError("NotSupportedError")},t}(Error),RubyJS.NotImplementedError=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(){return new RubyJS.NotImplementedError("NotImplementedError")},t}(Error),RubyJS.Comparable=function(){function e(){}return e.prototype["<"]=function(e){var t;t=this["<=>"](e);if(t===null)throw RubyJS.TypeError["new"]();return t<0},e.prototype[">"]=function(e){var t;t=this["<=>"](e);if(t===null)throw RubyJS.TypeError["new"]();return t>0},e.prototype["<="]=function(e){var t;t=this["<=>"](e);if(t===null)throw RubyJS.TypeError["new"]();return t<=0},e.prototype[">="]=function(e){var t;t=this["<=>"](e);if(t===null)throw RubyJS.TypeError["new"]();return t>=0},e.prototype.cmp=e.prototype["<=>"],e.prototype.lt=e.prototype["<"],e.prototype.lteq=e.prototype["<="],e.prototype.gt=e.prototype[">"],e.prototype.gteq=e.prototype[">="],e}(),r=function(e){return Array.prototype.slice.call(e,0)},e=o.single_block_args,t=function(e,t,n){return t.length>1&&R.Array.isNativeArray(n)?t.apply(e,n):t.call(e,n)},n=function(t,n,r){var i;return i=e(r,n),n.length!==1&&R.Array.isNativeArray(i)?n.apply(t,i):n.call(t,i)},RubyJS.Enumerable=function(){function r(){}return r.prototype.is_enumerable=function(){return!0},r.prototype.all=function(t){return this.catch_break(function(r){var i;return i=t&&t.call!=null,this.each(function(){var s;s=i?n(this,t,arguments):e(arguments,t);if(R.falsey(s))return r["break"](!1)}),!0})},r.prototype["all?"]=r.prototype.all,r.prototype.any=function(e){return this.catch_break(function(t){var r;return r=e&&e.call!=null,this.each(function(i){var s;s=r?n(this,e,arguments):i;if(!R.falsey(s))return t["break"](!0)}),!1})},r.prototype["any?"]=r.prototype.any,r.prototype.collect_concat=function(e){var t;return e==null&&(e=null),!e||e.call==null?this.to_enum("collect_concat"):(t=[],this.each(function(){return t.push(n(this,e,arguments))}),(new R.Array(t,!1)).flatten(1))},r.prototype.flat_map=r.prototype.collect_concat,r.prototype.count=function(e){var t;return t=0,e===void 0?this.each(function(){return t+=1}):e===null?this.each(function(e){if(e===null)return t+=1}):e.call!=null?this.each(function(r){if(!R.falsey(n(this,e,arguments)))return t+=1}):this.each(function(n){if(R(n)["=="](e))return t+=1}),this.$int(t)},r.prototype.cycle=function(t,r){var i,s,u,a,f;if(arguments.length>2)throw R.ArgumentError["new"]();r||t&&t.call!=null&&(r=t,t=null);if(t!==null&&t!==void 0){u=o.to_int(t);if(u.lteq(0))return null}else u=null;if(!r)return this.to_enum("cycle",t);i=R([]),this.each(function(){var t;return t=e(arguments,r),i.append(t),n(this,r,arguments)});if(i.empty())return null;if(u){s=0,u=u.minus(1),a=[];while(u.gt(s))a.push(i.each(function(){return n(this,r,arguments),s+=1}));return a}f=[];for(;;)f.push(i.each(function(){return n(this,r,arguments)}));return f},r.prototype.drop=function(e){var t;this.__ensure_args_length(arguments,1),e=o.to_int_literal(e);if(e<0)throw R.ArgumentError["new"]();return t=[],this.each_with_index(function(n,r){if(e<=r)return t.push(n)}),new R.Array(t,!1)},r.prototype.drop_while=function(t){var r,i;return!t||t.call==null?this.to_enum("drop_while"):(r=[],i=!0,this.each(function(){var s;s=1<=arguments.length?b.call(arguments,0):[];if(!i||!n(this,t,arguments))return i=!1,s=e(arguments),r.push(s)}),new R.Array(r,!1))},r.prototype.each_cons=function(){var n,r,i,s;n=1<=arguments.length?b.call(arguments,0):[],i=this.__extract_block(n);if(!i||i.call==null)return this.to_enum.apply(this,["each_cons"].concat(b.call(n)));this.__ensure_args_length(n,1),s=o.to_int_literal(n[0]);if(s>0)return r=[],this.each(function(){r.push(e(arguments)),r.length>s&&r.shift();if(r.length===s)return t(this,i,r.slice(0))}),null;throw R.ArgumentError["new"]()},r.prototype.each_entry=function(n){if(arguments.length>1)throw R.ArgumentError["new"]();return!n||n.call==null?this.to_enum("each_entry"):(this.each(function(){var r;return r=e(arguments),t(this,n,r)}),this)},r.prototype.each_slice=function(n,r){var i;if(!n)throw R.ArgumentError["new"]();n=o.to_int_literal(n);if(n<=0)throw R.ArgumentError["new"]();if(r&&r.call==null)throw R.ArgumentError["new"]();return r===void 0?this.to_enum("each_slice",n):(i=[],this.each(function(){i.push(e(arguments));if(i.length===n)return t(this,r,i.slice(0)),i=[]}),i.length!==0&&t(this,r,i.slice(0)),null)},r.prototype.each_with_context=function(e,t){return e==null&&(e=null),!t||t.call==null?this.to_enum("each_with_context",e):(this.each(function(){var n;return n=1<=arguments.length?b.call(arguments,0):[],n.length===1&&(n=n[0]),e||(e=n),t.call(e,n,e)}),this)},r.prototype.each_with_index=function(t){var n;return!t||t.call==null?this.to_enum("each_with_index"):(n=0,this.each(function(){var r;return r=t.call(this,e(arguments),new RubyJS.Fixnum(n)),n+=1,r}),this)},r.prototype.each_with_object=function(t,n){return!n||n.call==null?this.to_enum("each_with_object",t):(this.each(function(){return n.apply(this,[e(arguments),t])}),t)},r.prototype.find=function(t,r){return r==null&&(r=null),r===null&&(r=t,t=null),this.catch_break(function(i){return this.each(function(){var t;t=1<=arguments.length?b.call(arguments,0):[];if(!R.falsey(n(this,r,arguments)))return i["break"](e(arguments))}),typeof t=="function"?t():void 0})},r.prototype.detect=r.prototype.find,r.prototype.find_all=function(t){var r;return!t||t.call==null?this.to_enum("find_all"):(r=[],this.each(function(){var i;i=1<=arguments.length?b.call(arguments,0):[];if(!R.falsey(n(this,t,arguments)))return r.push(e(arguments))}),new R.Array(r))},r.prototype.select=r.prototype.find_all,r.prototype.find_index=function(e){var t,r;return arguments.length===0?this.to_enum("find_index"):(e=this.box(e),e.call!=null?t=e:t=function(t){return R(t)["=="](e)||t===e},r=0,this.catch_break(function(e){return this.each(function(){return n(this,t,arguments)&&e["break"](R(r)),r+=1}),null}))},r.prototype.first=function(e){e==null&&(e=null);if(e!==null){e=o.to_int_literal(e);if(e<0)throw new RubyJS.ArgumentError("ArgumentError");return this.take(e)}return this.take(1).literal()[0]},r.prototype.include=function(e){return e=this.box(e),this.catch_break(function(t){return this.each(function(n){n=R(n);if((typeof n["=="]=="function"?n["=="](e):void 0)||(typeof e["=="]=="function"?e["=="](n):void 0)||n===e)return t["break"](!0)}),!1})},r.prototype.inject=function(t,n,r){var i,s;return(n!=null?n.call:void 0)!=null?r=n:n?r=function(e,t){return e[n](t)}:((s=this.box(t))!=null?s.is_string:void 0)!=null?(i=""+t,r=function(e,t){return e[i](t)},t=void 0):t.call!=null&&(r=t,t=void 0),this.each(function(){return t===void 0?t=e(arguments):t=r.call(this,t,e(arguments))}),t},r.prototype.iterator=function(){return this.each()},r.prototype.grep=function(e,t){var r;return r=R([]),e=R(e),t?this.each(function(i){if(e["==="](i))return r.append(n(this,t,arguments))}):this.each(function(t){if(e["==="](t))return r.append(t)}),r},r.prototype.group_by=function(t){var r;return(t!=null?t.call:void 0)==null?this.to_enum("group_by"):(r={},this.each(function(){var i,s;return i=e(arguments,t),s=n(this,t,arguments),r[s]||(r[s]=R([])),r[s].append(i)}),r)},r.prototype.map=function(e){var t;return e?e.call==null?this.to_enum("map"):(t=this.box([]),this.each(function(){return t.push(n(this,e,arguments))}),t):this.to_enum("map")},r.prototype.collect=r.prototype.map,r.prototype.member=r.prototype.include,r.prototype.max=function(e){var t;return t=void 0,e||(e=function(e,t){return e["<=>"](t)}),this.each(function(n){var r;n=R(n);if(t===void 0)return t=n;r=e.call(this,n,t);if(r===null)throw R.ArgumentError["new"]();if(r>0)return t=n}),t||null},r.prototype.max_by=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("max_by"):(t=void 0,this.each(function(n){var r;n=R(n);if(t===void 0)return t=n;r=e(n)["<=>"](e(t));if(r===null)throw R.ArgumentError["new"]();if(r>0)return t=n}),t||null)},r.prototype.min=function(e){var t;return t=void 0,e||(e=function(e,t){return e["<=>"](t)}),this.each(function(n){var r;n=R(n);if(t===void 0)return t=n;r=e.call(this,n,t);if(r===null)throw R.ArgumentError["new"]();if(r<0)return t=n}),t||null},r.prototype.min_by=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("min_by"):(t=void 0,e||(e=function(e,t){return e["<=>"](t)}),this.each(function(n){var r;n=R(n);if(t===void 0)return t=n;r=e(n)["<=>"](e(t));if(r===null)throw R.ArgumentError["new"]();if(r<0)return t=n}),t||null)},r.prototype.minmax=function(e){return R([this.min(e),this.max(e)])},r.prototype.minmax_by=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("minmax_by"):R([this.min_by(e),this.max_by(e)])},r.prototype.none=function(e){var t;return t=e&&e.call!=null,this.catch_break(function(r){return this.each(function(i){var s;s=t?n(this,e,arguments):i;if(!R.falsey(s))return r["break"](!1)}),!0})},r.prototype["none?"]=r.prototype.none,r.prototype.one=function(e){var t,r;return r=0,t=e&&e.call!=null,this.catch_break(function(i){return this.each(function(s){var o;o=t?n(this,e,arguments):s,R.falsey(o)||(r+=1);if(r>1)return i["break"](!1)}),r===1})},r.prototype["one?"]=r.prototype.one,r.prototype.partition=function(n){var r,i;return!n||n.call==null?this.to_enum("partition"):(r=[],i=[],this.each(function(){var s;return s=e(arguments),t(this,n,s)?r.push(s):i.push(s)}),new R.Array([new R.Array(r),new R.Array(i)]))},r.prototype.reduce=r.prototype.inject,r.prototype.reject=function(t){var r;return!t||t.call==null?this.to_enum("reject"):(r=[],this.each(function(){if(R.falsey(n(this,t,arguments)))return r.push(e(arguments))}),new R.Array(r))},r.prototype.reverse_each=function(e){return!e||e.call==null?this.to_enum("reverse_each"):(this.to_a().reverse_each(e),this)},r.prototype.slice_before=function(){var e,t,n,r,i;return t=1<=arguments.length?b.call(arguments,0):[],n=this.__extract_block(t),e=R(t[0]),n?r=e!==void 0:n=function(t){return e["==="](t)},i=this,R.Enumerator.create(function(t){var s;s=null,i.each(function(i){var o;return o=r?n(i,e.dup()):n(i),o?(s&&t.yield(s),s=R([i])):(s||(s=R([])),s.append(i))});if(s)return t.yield(s)})},r.prototype.sort=function(e){var t;return e||(e=function(e,t){e=R(e);if(e["<=>"]==null)throw"NoMethodError";return e["<=>"](t)}),t=this.to_a().literal().sort(e),new R.Array(t)},r.prototype.sort_by=function(e){var t;return!e||e.call==null?this.to_enum("sort_by"):(t=[],this.each(function(r){return t.push(new R.Enumerable.SortedElement(r,n(this,e,arguments)))}),t=new R.Array(t),t.sort().map(function(e){return e.value}))},r.prototype.take=function(t){var n;this.__ensure_args_length(arguments,1),t=o.to_int_literal(t);if(t<0)throw R.ArgumentError["new"]();return n=[],this.catch_break(function(r){return this.each(function(){return n.length===t&&r["break"](),n.push(e(arguments))})}),new R.Array(n)},r.prototype.take_while=function(t){var n;return!t||t.call==null?this.to_enum("take_while"):(n=[],this.catch_break(function(r){return this.each(function(){return R.falsey(t.apply(this,arguments))&&r["break"](),n.push(e(arguments))})}),new R.Array(n))},r.prototype.to_a=function(){var t;return t=[],this.each(function(){return t.push(e(arguments)),null}),new RubyJS.Array(t)},r.prototype.to_enum=function(){var e,t;return t=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],t==null&&(t="each"),function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t),s=typeof i;return s=="object"||s=="function"?i||r:r}(RubyJS.Enumerator,[this,t].concat(b.call(e)),function(){})},r.prototype.entries=r.prototype.to_a,r.prototype.zip=function(){var e,t,n,r;return n=1<=arguments.length?b.call(arguments,0):[],e=this.__extract_block(n),n=R(n).map(function(e){var t;return t=R(e),t.to_ary!=null?t.to_ary():t.to_enum("each")}),r=R([]),t=0,this.each(function(i){var s;return s=R([i]),n.each(function(e){return i=e.is_array!=null?e.at(t):e.next(),i===void 0&&(i=null),s.append(i)}),e&&e(s),r.append(s),t+=1}),e?null:r},r}(),RubyJS.Enumerable.SortedElement=function(){function e(e,t){this.value=e,this.sort_id=t}return e.prototype["<=>"]=function(e){var t;return(t=this.sort_id)!=null?t["<=>"](e.sort_id):void 0},e}(),RubyJS.Enumerator=function(t){function n(){var e,t,n;n=arguments[0],t=arguments[1],e=3<=arguments.length?b.call(arguments,2):[],this.object=n,this.iter=t!=null?t:"each",this.args=e,this.generator=null,this.length=this.object.length,this.idx=0}return E(n,t),n.include(RubyJS.Enumerable),n["new"]=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?b.call(arguments,2):[],function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t),s=typeof i;return s=="object"||s=="function"?i||r:r}(RubyJS.Enumerator,[n,t].concat(b.call(e)),function(){})},n.create=function(){var e,t,r,i;e=1<=arguments.length?b.call(arguments,0):[];if(t=R.__extract_block(e))return i=new RubyJS.Enumerator.Generator(t),r="each",n["new"](i,r)},n.prototype.is_enumerator=function(){return!0},n.prototype.each=function(e){var t;return(t=this.object)[this.iter].apply(t,b.call(this.args).concat([e]))},n.prototype.each_with_index=function(t){var n;return!t||t.call==null?this.to_enum("each_with_index"):(n=0,this.each(function(){var r,i;return r=e(arguments),i=t.call(this,r,new RubyJS.Fixnum(n)),n+=1,i}))},n.prototype.size=function(){return this.object.length},n.prototype.iterator=function(){return this.to_a().unbox()},n.prototype.native_array=function(){return this.arr||(this.arr=this.iterator())},n.prototype.next=function(){var e;return e=this.idx,this.idx+=1,this.native_array()[e]},n.prototype.to_enum=function(){var e,t;return t=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],t==null&&(t="each"),function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t),s=typeof i;return s=="object"||s=="function"?i||r:r}(RubyJS.Enumerator,[this,t].concat(b.call(e)),function(){})},n}(RubyJS.Object),RubyJS.Enumerator.Yielder=function(e){function t(e){this.proc=e;if(this.proc.call==null)throw"LocalJumpError"}return E(t,e),t.prototype.yield=function(){return this.proc.apply(this,arguments)},t.prototype["<<"]=function(e){return this.yield(e),this},t}(RubyJS.Object),RubyJS.Enumerator.Generator=function(e){function t(e){this.proc=e;if(this.proc.call==null)throw"LocalJumpError"}return E(t,e),t.prototype.each=function(e){var t;return t=function(){return e.apply(this,arguments)},this.proc(new RubyJS.Enumerator.Yielder(t))},t}(RubyJS.Object),RubyJS.Array=function(e){function t(e,t){this.arr=e!=null?e:[],t==null&&(t=!0),t===!0&&(this.arr=this.arr.slice(0))}return E(t,e),t.include(RubyJS.Enumerable),t.prototype.is_array=function(){return!0},t.prototype.iterator=function(){return this.arr},t["new"]=function(){var e,t,n,r,i;e=1<=arguments.length?b.call(arguments,0):[],t=R.__extract_block(e);if(e.length>=3)throw R.ArgumentError["new"]();n=e[0],r=e[1];if(n===void 0)return new R.Array([]);if(r===void 0||!this.isNativeArray(n)&&n.is_array==null){if(n.__rubyjs_typecast===this.typecast)return this.typecast(n);if(n.to_ary!=null&&r===void 0)return n.to_ary();n=o.to_int_literal(n);if(n<0)throw R.ArgumentError["new"]();return i=r,i===void 0&&(i=null),t?R(0).upto(n-1).map(function(e){return t(e)}):R(0).upto(n-1).map(function(){return i})}throw R.TypeError["new"]()},t.typecast=function(e){return new RubyJS.Array(e)},t.isNativeArray=c.isArray||function(e){return!!(e&&e.concat&&e.unshift&&!e.callee)},t.try_convert=function(e){return e.is_array!=null?e:this.isNativeArray(e)?this["new"](e):e.to_ary!=null?e.to_ary():null},t.prototype.valueOf=function(){return this.arr},t.prototype.literal=function(){return this.arr},t.prototype.literal_clone=function(){return this.arr.slice(0)},t.prototype["=="]=function(e){var t,n,r,i;if(this===e)return!0;if(e===void 0||e===null)return!1;e=R(e);if(e.is_array==null)return e.to_ary==null?!1:e["=="](this);if(!this.size().equals(e.size()))return!1;n=this.literal(),r=e.literal(),t=0,i=t+this.size().literal();while(t<i){if(!R(n[t])["=="](R(r[t])))return!1;t+=1}return!0},t.prototype["<<"]=function(e){return this.arr.push(e),this},t.prototype["&"]=function(e){var t;return e=this.box(e),t=R([]),this.each(function(n){if(e.include(n))return t.push(n)}),t.uniq()},t.prototype["<=>"]=function(e){var t,n,r,i;if(e===null||e===void 0)return null;try{e=o.to_ary(e)}catch(s){return null}if(this.equals(e))return 0;r=e.size(),n=0,i=r.lt(this.size())?r:this.size();while(i.gt(n)){t=R(this.arr[n])["<=>"](e.arr[n]);if(t!==0)return t;n+=1}return this.size()["<=>"](r)},t.prototype.at=function(e){return this.__ensure_args_length(arguments,1),e=o.to_int_literal(e),e<0?this.arr[this.size()+e]:this.arr[e]},t.prototype.clear=function(){return this.__ensure_args_length(arguments,0),this.replace([]),this},t.prototype.clone=function(){return this.dup()},t.prototype.collect_bang=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("collect_bang"):this.replace(this.collect(e))},t.prototype.combination=function(){var e,t,n,r,i,s,u,a;e=1<=arguments.length?b.call(arguments,0):[],t=this.__extract_block(e),u=o.to_int_literal(e[0]);if((t!=null?t.call:void 0)==null)return this.to_enum("combination",u);if(u===0)t([]);else if(u===1)this.each(function(){var e;return e=1<=arguments.length?b.call(arguments,0):[],t.call(this,e)});else if(u===+this.size())t(this.dup());else if(u>=0&&u<this.size()){u=u,a=function(){var e,t,n;n=[];for(i=e=0,t=u+1;0<=t?e<=t:e>=t;i=0<=t?++e:--e)n.push(0);return n}(),n=[],s=0,r=!1,a[0]=-1;while(!r){n[s]=this.at(a[s+1]);while(s<u-1)s+=1,a[s+1]=a[s]+1,n[s]=this.at(a[s+1]);t.call(this,n.slice(0)),s+=1,r=s===0,a[s]+=1,s-=1;while(a[s+1]+u===this.__size__()+s+1)r=s===0,a[s]+=1,s-=1}}return this},t.prototype.compact=function(){return this.dup().tap(function(e){return e.compact_bang()})},t.prototype.compact_bang=function(){var e,t;return t=this.arr.length,e=[],this.each(function(t){if(t!==null)return e.push(t)}),this.replace(e),t===e.length?null:this},t.prototype.concat=function(e){return e=R(e).to_ary(),this.replace(this.arr.concat(e.literal()))},t.prototype["delete"]=function(){var e,t,n,r,i,s,o,u,a,f;e=1<=arguments.length?b.call(arguments,0):[],t=this.__extract_block(e),s=e[0],i=R(s),o=this.arr.length,n=[],r=0;while(r<o)i.equals(this.arr[r])&&n.push(r),r+=1;if(n.length>0){f=n.reverse();for(u=0,a=f.length;u<a;u++)r=f[u],this.delete_at(r);return s}return t?t():null},t.prototype.delete_at=function(e){var t;return e=o.to_int_literal(e),e<0&&(e+=this.__size__()),e<0||e>=this.__size__()?null:(t=this.arr[e],this.replace(this.arr.slice(0,e).concat(this.arr.slice(e+1))),t)},t.prototype.delete_if=function(e){return this.replace(this.reject(e))},t.prototype.dup=function(){return new RubyJS.Array(this.arr.slice(0))},t.prototype.eql=function(e){var t;return this.equals(e)?!0:(e=R(e),e.is_array==null?!1:this.size().equals(e.size())?(t=e.literal(),this.catch_break(function(e){var n;return n=0,this.each(function(r){return R(r).eql(t[n])||e["break"](!1),n+=1}),!0})):!1)},t.prototype.each_index=function(e){var t,n;if(e&&e.call!=null){t=0,n=this.arr.length;while(t<n)e(t),t+=1;return this}return this.to_enum("each_index")},t.prototype.each_for=function(e){e=R.string_to_proc(e);if(e&&e.call!=null){var t=0,n=this.arr,r=n.length;if(e.length==0)for(;t<r;t++)e.apply(this,[n[t]]);else if(e.length>1)for(;t<r;t++){var i=n[t];R.Array.isNativeArray(i)?e.apply(this,i):e(i)}else for(;t<r;t++)e(n[t]);return this}return this.to_enum()},t.prototype.elget=function(e,t){return this.slice(e,t)},t.prototype.get=t.prototype.elget,t.prototype.elset=function(){},t.prototype.set=t.prototype.elset,t.prototype.empty=function(){return this.size().equals(0)},t.prototype.fetch=function(){var e,t,n,r,i,s;e=1<=arguments.length?b.call(arguments,0):[],t=this.__extract_block(e),i=e[0],n=o.to_int_literal(e[0]),s=e[1],r=this.__size__(),n<0&&(n+=r);if(n<0||n>=r){if((t!=null?t.call:void 0)!=null)return t(i);if(s!==void 0)return s;throw R.IndexError["new"]()}return this.at(n)},t.prototype.fill=function(){var e,t,n,r,i,s,u,a,f,l,c;e=1<=arguments.length?b.call(arguments,0):[];if(e.length===0)throw R.ArgumentError["new"]();t=this.__extract_block(e);if(t){if(e.length>=3)throw R.ArgumentError["new"]();s=e[0],l=e[1]}else{if(e.length>3)throw R.ArgumentError["new"]();i=e[0],s=e[1],l=e[2]}a=this.__size__();if((s!=null?s.is_range:void 0)==null)if(s!==void 0&&s!==null){r=o.to_int_literal(s),r<0&&(r+=a),r<0&&(r=0);if(l!==void 0&&l!==null){try{u=o.to_int_literal(l)}catch(h){throw R.ArgumentError["new"]("second argument must be a Fixnum")}if(u===0)return this;u+=r}else u=a}else r=0,u=a;f=u,u>a&&(this.concat(R(a).upto(u-1).to_a().map(function(){return null})),f=u),n=r;if(t)while(f>n)c=t.call(this,n),this.arr[n]=c===void 0?null:c,n+=1;else while(f>n)this.arr[n]=i,n+=1;return this},t.prototype.flatten=function(e){var t;return e==null&&(e=-1),e=R(e),t=R([]),this.each(function(n){return n=R(n),(n!=null?n.to_ary:void 0)!=null&&!e.equals(0)?n.to_ary().flatten(e.minus(1)).each(function(e){return t.push(e)}):t.push(n)}),t},t.prototype.insert=function(){var e,t,n,r,i;r=arguments[0],i=2<=arguments.length?b.call(arguments,1):[];if(r===void 0)throw R.ArgumentError["new"]();if(i.length===0)return this;r=o.to_int_literal(r),r<0&&(r=r+this.__size__()+1);if(r<0)throw R.IndexError["new"]();return t=this.arr.slice(0,r),r>t.length&&(t=t.concat(function(){var e,i,s;s=[];for(n=e=0,i=r-t.length;0<=i?e<i:e>i;n=0<=i?++e:--e)s.push(null);return s}())),e=this.arr.slice(r),this.replace(t.concat(i).concat(e))},t.prototype.inspect=function(){return R("["+this.map(function(e){return R.inspect(e)}).join(", ")+"]")},t.prototype.join=function(e){return this.empty()?R(""):(e===void 0&&(e=R["$,"]),e===null&&(e=""),e=o.to_str_literal(e),this.box(this.arr.join(e)))},t.prototype.keep_if=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("keep_if"):(t=[],this.each(function(n){if(!R.falsey(e(n)))return t.push(n)}),this.__size__()===t.length?this:this.replace(t))},t.prototype.minus=function(e){var t;return e=o.to_ary(e),t=[],this.each(function(n){if(!e.include(n))return t.push(n)}),new R.Array(t,!1)},t.prototype.multiply=function(e){var t,n,r;this.__ensure_args_length(arguments,1);if(e===null)throw R.TypeError["new"]();e=R(e);if(e.to_str!=null)return this.join(e);e=o.to_int_literal(e);if(e<0)throw R.ArgumentError["new"]("Count cannot be negative");return r=this.__size__(),r===0?new R.Array([],!1):r===1?this.dup():(n=[],t=this.arr,R(e).times(function(){return n=n.concat(t)}),new R.Array(n,!1))},t.prototype.last=function(e){var t;t=this.__size__();if(t<1)return e===void 0?null:new R.Array([],!1);if(e===void 0)return this.at(-1);e=o.to_int_literal(e);if(e===0)return new R.Array([],!1);if(e<0)throw R.ArgumentError["new"]("count must be positive");return e>t&&(e=t),R(this.arr.slice(-e))},t.prototype.plus=function(e){return this.concat(e)},t.prototype.pop=function(e){var t;if(arguments.length>1)throw R.ArgumentError["new"]();if(e===void 0)return this.arr.pop();e=o.to_int_literal(e);if(e<0)throw R.ArgumentError["new"]("negative array size");return t=this.__size__()-e,t<0&&(t=0),this.slice_bang(t,e)},t.prototype.product=function(){var e,t,n,r,i;e=1<=arguments.length?b.call(arguments,0):[],t=this.__extract_block(e),e=R.$array_r(e).reverse();if(!e.all(function(e){return e.to_ary!=null}))throw R.TypeError["new"]();return e.map_bang(function(e){return e.to_ary()}),
i=R([]),e.push(this),r=e.inject(i.push,function(e,t){return function(n){return t.each(function(t){return e.call(i,n.dup().append(t))})}}),r(R([])),t?(n=this,i.each(function(e){return n.append(t(e))}),n):i},t.prototype.push=function(){var e,t;return e=1<=arguments.length?b.call(arguments,0):[],(t=this.arr).push.apply(t,e),this},t.prototype.rassoc=function(e){return e=R(e),this.catch_break(function(t){return this.each(function(n){var r;if(n.is_array!=null&&((r=R(n.at(1)))!=null?r["=="](e):void 0))return t["break"](n)}),null})},t.prototype.rindex=function(e){var t,n;return e===void 0?this.to_enum("rindex"):(e.call!=null?(t=e,n=this.catch_break(function(e){return this.reverse_each().each_with_index(function(n,r){if(!R.falsey(t(n)))return e["break"](r)}),null})):n=this.catch_break(function(t){return this.reverse_each().each_with_index(function(n,r){if(R(n)["=="](e))return t["break"](r)}),null}),n===null?null:R(this.__size__()-n-1))},t.prototype.sample=function(e,t){var n,r;t==null&&(t=void 0);if(e===void 0)return this.at(this.rand(this.size()));e=o.to_int_literal(e);if(e<0)throw R.ArgumentError["new"]();return r=this.__size__(),e>r&&(e=r),n=this.literal_clone(),R(e).times(function(e){var t,i;return t=e+R.rand(r-e),i=n[e],n[e]=n[t],n[t]=i}),(new R.Array(n,!1)).slice(0,e)},t.prototype.reject_bang=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("reject_bang"):(t=this.reject(e),t.__size__()===this.__size__()?null:this.replace(t))},t.prototype.replace=function(e){return this.__ensure_args_length(arguments,1),this.arr=e.to_ary!=null?e.to_ary().literal().slice(0):e.slice(0),this},t.prototype.reverse=function(){return this.dup().tap(function(e){return e.reverse_bang()})},t.prototype.reverse_bang=function(){return this.replace(this.arr.reverse()),this},t.prototype.reverse_each=function(e){if(!e||e.call==null)return this.to_enum("reverse_each");if(e&&e.call!=null){var t=this.arr,n=t.length;if(e.length==0)while(n--)e.apply(this,[t[n]]);else if(e.length>1)while(n--){var r=t[n];R.Array.isNativeArray(r)?e.apply(this,r):e(r)}else while(n--)e(t[n]);return this}return this.to_enum()},t.prototype.rotate=function(e){var t,n,r;return e===void 0&&(e=1),e=o.to_int_literal(e),t=this.dup(),this.__size__()===1?t:this.empty()?R([]):(n=e%t.__size__(),r=t.slice(R.rng(0,n,!0)),t.slice(R.rng(n,-1)).concat(r))},t.prototype.rotate_bang=function(e){return e===void 0?(e=1,this.replace(this.rotate(e))):(e=o.to_int_literal(e),e===0||e===1?this:this.replace(this.rotate(e)))},t.prototype.select_bang=function(e){var t;return(e!=null?e.call:void 0)==null?this.to_enum("select_bang"):(t=this.select(e),t.__size__()===this.__size__()?null:this.replace(t))},t.prototype.shift=function(e){var t,n;if(arguments.length>1)throw R.ArgumentError["new"]();if(e===void 0)return t=this.arr[0],this.replace(this.arr.slice(1)),t;e=o.to_int_literal(e);if(e<0)throw R.ArgumentError["new"]();return n=this.first(e),this.replace(this.arr.slice(e)),n},t.prototype.shuffle=function(){return this.dup().tap(function(e){return e.shuffle_bang()})},t.prototype.shuffle_bang=function(){var e,t;return t=this.size(),e=this.arr,t.times(function(n){var r,i,s;return n=n.literal(),s=n+R.rand(t-n),r=e[n],i=e[s],e[n]=i,e[s]=r}),this},t.prototype.size=function(){return R(this.arr.length)},t.prototype.__size__=function(){return this.arr.length},t.prototype.slice=function(e,t){var n,r,i,s,u;if(e===null)throw new R.TypeError["new"];return u=this.__size__(),(e!=null?e.is_range:void 0)!=null?(n=e,s=o.to_int_literal(n.begin()),r=o.to_int_literal(n.end()),s<0&&(s+=u),r<0&&(r+=u),n.exclude_end()||(r+=1),i=r-s,s>u||s<0?null:new R.Array(this.arr.slice(s,r))):(e=o.to_int_literal(e),e<0&&(e=u+e),t===void 0?e<0||e>=u?null:this.at(e):(t=o.to_int_literal(t),e<0||e>u||t<0?null:new R.Array(this.arr.slice(e,t+e))))},t.prototype.slice_bang=function(e,t){var n,r,i,s,u,a;if(e===null)throw new R.TypeError["new"];n=null,a=this.__size__();if(e.is_range!=null)r=e,n=this.slice(r),u=o.to_int_literal(r.begin()),i=o.to_int_literal(r.end()),u<0&&(u+=a),i<0?i+=a:i>=a&&i>=a,s=i-u,r.exclude_end()||(s+=1),u<a&&u>=0&&i<=a&&i>=0&&s>0&&this.__delete_range(u,s);else if(t!==void 0){e=o.to_int_literal(e),t=o.to_int_literal(t);if(e>a)return null;if(t===0)return new R.Array([],!1);n=this.slice(e,t),this.__delete_range(e,t)}else e=o.to_int_literal(e),n=this.delete_at(e);return n},t.prototype.__delete_range=function(e,t){var n,r;r=this.__size__();if(e>r||e<0)return null;r<e+t?n=new R.Array([],!1):n=this.slice(0,e).concat(this.slice(e+t,r)||[]);if(n.__size__()!==this.__size__())return this.replace(n)},t.prototype.sort_bang=function(e){return this.replace(this.sort(e))},t.prototype.sort_by_bang=function(e){return(e!=null?e.call:void 0)==null?this.to_enum("sort_by_bang"):this.replace(this.sort_by(e))},t.prototype.transpose=function(){var e,t;return this.empty()?R([]):(t=R([]),e=null,this.each(function(n){n=o.to_ary(n),e||(e=n.size());if(!n.size().equals(e))throw R.IndexError["new"]();return n.size().times(function(e){var r;return t.at(e)||t.append(R([])),r=t.at(e),r.append(n.at(e))})}),t)},t.prototype.uniq=function(){var e;return e=R([]),this.each(function(t){if(!e.include(t))return e.push(t)}),e},t.prototype.uniq_bang=function(e){var t;return t=this.uniq(),t.__size__()===this.__size__()?null:this.replace(t)},t.prototype.unshift=function(){var e;return e=1<=arguments.length?b.call(arguments,0):[],this.replace(e.concat(this.arr))},t.prototype.unbox=function(e){var t,n,r,i,s;e==null&&(e=!1);if(e){i=this.arr,s=[];for(n=0,r=i.length;n<r;n++)t=i[n],t&&t.unbox!=null&&(t=t.unbox(!0)),s.push(t);return s}return this.arr.slice(0)},t.prototype.union=function(e){return this.plus(e).uniq()},t.prototype.to_enum=function(){var e,t;return t=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],t==null&&(t="each"),function(e,t,n){n.prototype=e.prototype;var r=new n,i=e.apply(r,t),s=typeof i;return s=="object"||s=="function"?i||r:r}(RubyJS.Enumerator,[this,t].concat(b.call(e)),function(){})},t.prototype.to_ary=function(){return this},t.prototype.values_at=function(){var e,t,n;return e=1<=arguments.length?b.call(arguments,0):[],t=function(){var t,r,i;i=[];for(t=0,r=e.length;t<r;t++)n=e[t],i.push(this.at(o.to_int_literal(n))||null);return i}.call(this),new R.Array(t)},t.prototype.append=t.prototype["<<"],t.prototype.map_bang=t.prototype.collect_bang,t.prototype.index=t.prototype.find_index,t.prototype.each=t.prototype.each_for,t.prototype["-"]=t.prototype.minus,t.prototype["*"]=t.prototype.multiply,t.prototype["+"]=t.prototype.plus,t.prototype["|"]=t.prototype.union,t.prototype.to_s=t.prototype.inspect,t.prototype.equal_case=t.prototype["==="],t.prototype.equals=t.prototype["=="],t.prototype.cmp=t.prototype["<=>"],t}(RubyJS.Object),RubyJS.Hash=function(e){function t(e){}return E(t,e),t.include(RubyJS.Enumerable),t["new"]=function(){return new RubyJS.Hash},t}(RubyJS.Object),RubyJS.Range=function(e){function t(e,t,n){this.exclusive=n!=null?n:!1,this.__start__=this.box(e),this.__end__=this.box(t);if(this.__start__.is_fixnum==null||this.__end__.is_fixnum==null)try{if(this.__start__["<=>"](this.__end__)===null)throw R.ArgumentError["new"]()}catch(r){throw R.ArgumentError["new"]()}this.comparison=this.exclusive?"<":"<="}return E(t,e),t.include(RubyJS.Enumerable),t["new"]=function(e,t,n){return n==null&&(n=!1),new RubyJS.Range(e,t,n)},t.prototype.is_range=function(){return!0},t.prototype["=="]=function(e){return e instanceof RubyJS.Range?this.__end__["=="](e.end())&&this.__start__["=="](e.start())&&this.exclusive===e.exclude_end():!1},t.prototype.begin=function(e){return this.__start__},t.prototype.cover=function(){var e;e=1<=arguments.length?b.call(arguments,0):[];if(e.length!==1)throw new RubyJS.ArgumentError("ArgumentError");return e=e[0],e===null?!1:this.equal_case(e)},t.prototype["==="]=function(e){var t,n;return e=R(e),n=e["<=>"](this.__start__),t=e["<=>"](this.__end__),n===null&&t===null?!1:(n=-n,t=-t,n<=0&&(this.exclusive?t>0:t>=0))},t.prototype.each=function(e){var t,n;t=this.__start__.dup(),n=[];while(t[this.comparison](this.__end__))e(t),n.push(t=t.succ());return n},t.prototype.end=function(){return this.__end__},t.prototype.exclude_end=function(){return this.exclusive},t.prototype.inspect=function(){var e;return e=this.exclude_end()?"...":"..",""+this.start().inspect()+e+this.end().inspect()},t.prototype.iterator=function(){var e;return e=[],this.each(function(t){return e.push(t)}),e},t.prototype.min=function(e){var t,n;return(e!=null?e.call:void 0)!=null?R.Enumerable.prototype.min.call(this,e):(t=this.begin(),n=this.end(),n["<"](t)||this.exclusive&&n.equals(t)?null:t.is_float!=null?t:R.Enumerable.prototype.min.call(this))},t.prototype.max=function(e){return this.exclude_end()?this.end().lt(0)?this.end().plus(1):this.end().minus(1):this.end()},t.prototype.start=function(){return this.__start__},t.prototype.step=function(e,t){var n,r,i,s;e==null&&(e=1),arguments.length===1&&e.call!=null&&(t=e,e=1);if(!t||t.call==null)return this.to_enum("step",e);e=R(e),i=this.begin(),s=this.end(),(e!=null?e.is_float:void 0)!=null||i.is_float!=null||s.is_float!=null?(e=e.to_f(),i=i.to_f(),s=s.to_f()):e=o.to_int_literal(e);if(e<=0)throw e<0?R.ArgumentError["new"]():R.ArgumentError["new"]();r=i,n=this.exclude_end()?"<":"<=";if(i.is_float!=null)while(r[n](s))t(r),r=r.plus(e);else if(i.is_fixnum!=null)while(r[n](s))t(r),r=r.plus(e);else r=0,this.each(function(n){return r%e===0&&t(R(n)),r+=1});return this},t.prototype.to_a=function(){if(this.__end__.is_float!=null&&this.__start__.is_float!=null)throw RubyJS.TypeError["new"]();return RubyJS.Enumerable.prototype.to_a.apply(this)},t.prototype.to_s=t.prototype.inspect,t.prototype.equal_case=t.prototype["==="],t.prototype.equals=t.prototype["=="],t.prototype.cmp=t.prototype["<=>"],t.prototype.eql=t.prototype["=="],t.prototype.first=t.prototype.begin,t.prototype.include=t.prototype["==="],t.prototype.last=t.prototype.end,t.prototype.member=t.prototype.include,t}(RubyJS.Object),RubyJS.MatchData=function(e){function t(e,t){var n,r,i,s,o;this.__literal__=e,t==null&&(t={}),o=this.__literal__;for(n=i=0,s=o.length;i<s;n=++i)r=o[n],this[n]=r;this.__offset__=t.offset||0,this.__source__=t.string,this.__regexp__=t.regexp}return E(t,e),t.prototype.is_match_data=function(){return!0},t.prototype["=="]=function(e){return e.is_match_data==null?!1:this.regexp()["=="](e.regexp())&&this.string()["=="](e.string())&&this.__offset__===e.__offset__},t.prototype.begin=function(e){return this.__ensure_args_length(1),R(this.__source__.slice(this.__offset__).indexOf(this.__literal__[e])+this.__offset__)},t.prototype.captures=function(){return R(this.__literal__.slice(1))},t.prototype.end=function(e){return this.__ensure_args_length(1),R(this.__source__.slice(this.__offset__).indexOf(this.__literal__[e])+this.__offset__+this.__literal__[e].length)},t.prototype.eql=function(e){return this["=="](e)},t.prototype.get=function(){var e,t;return e=1<=arguments.length?b.call(arguments,0):[],t=this.to_a(),t.get.apply(t,arguments)},t.prototype.inspect=function(){var e;return e=R(['"'+this[0]+'"']),e.concat(this.captures().each_with_index().map(function(e,t){return""+(t+1)+':"'+e+'"'})),new R.String("#<MatchData "+e.join(" ")+">")},t.prototype.length=function(){return R(this.__literal__.length)},t.prototype.offset=function(e){var t;return t=this.begin(e),R([t.literal(),t+this.__literal__[e].length])},t.prototype.post_match=function(){return this.__source__.slice(this.end(0))},t.prototype.pre_match=function(){return this.__source__.slice(0,this.begin(0))},t.prototype.regexp=function(){return R(this.__regexp__)},t.prototype.size=function(){return this.length()},t.prototype.string=function(){return R(this.__source__)},t.prototype.to_a=function(){return R(this.__literal__)},t.prototype.to_s=function(){return R(this.__literal__[0])},t.prototype.values_at=function(){var e,t;return t=1<=arguments.length?b.call(arguments,0):[],e=this.to_a(),e.values_at.apply(e,t)},t.prototype.names=function(){throw RubyJS.NotSupportedError["new"]()},t}(RubyJS.Object),v=m.String,RubyJS.String=function(e){function t(e){e==null&&(e=""),typeof e!="string"&&(e=e.valueOf()),this.replace(e)}return E(t,e),t.include(RubyJS.Comparable),t.fromCharCode=function(e){return v.fromCharCode(e)},t["new"]=function(e){return e==null&&(e=""),new R.String(e)},t.isString=function(e){return typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"},t.try_convert=function(e){if(!this.isString(e)&&e.to_str==null)return null;if(e.to_str!=null){e=e.to_str();if(e===null||e===void 0)return null;if(e.is_string==null)throw R.TypeError["new"]();return e}return this["new"](e)},t.string_literal=function(e){return typeof e=="string"?e:(e=R(e),e.to_str!=null?e.to_str().literal():null)},t.prototype.is_string=function(){return!0},t.prototype.literal=function(){return this.__literal__},t.prototype.valueOf=function(){return this.literal()},t.prototype.toString=function(){return this.literal()},t.prototype.dump=function(){var e;return e=this.literal().replace(/[\f]/g,"\\f").replace(/["]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t"),R('"'+e+'"')},t.prototype.dup=function(){var e;return e=this.clone(),e.initialize_copy(this),e},t.prototype.initialize_copy=function(){},t.prototype.clone=function(){return new this.constructor(this.literal()+"")},t.prototype["%"]=function(e){},t.prototype["*"]=function(e){var t,n,r,i;e=this.box(e).to_int(),this.__ensure_numeric(e);if(e.lt(0))throw RubyJS.ArgumentError["new"]();n="";for(t=r=0,i=e.literal();0<=i?r<i:r>i;t=0<=i?++r:--r)n+=this;return new R.String(n)},t.prototype["+"]=function(e){return e=o.to_str_literal(e),new R.String(this.literal()+e)},t.prototype["<=>"]=function(e){return e=R(e),e.to_str==null?null:e["<=>"]==null?null:e.is_string!=null?(e=e.literal(),this.literal()===e?0:this.literal()<e?-1:1):-e["<=>"](this)},t.prototype["=="]=function(e){return e.is_string!=null?this.literal()===e.literal():t.isString(e)?this.literal()===e:e.to_str!=null?e["=="](this.literal()):!1},t.prototype.equals=t.prototype["=="],t.prototype.unbox=function(){return this.toString()},t.prototype.capitalize=function(){return this.dup().tap(function(e){return e.capitalize_bang()})},t.prototype.capitalize_bang=function(){var e;if(this.empty())return;return e=this.downcase(),e=e.chr().upcase().concat(e.literal().slice(1)||""),this.equals(e)?null:this.replace(e.literal())},t.prototype.casecmp=function(e){var t;e=typeof (t=R(e)).to_str=="function"?t.to_str():void 0;if(!e)throw R.TypeError["new"]();return this.downcase().cmp(e.downcase())},t.prototype.center=function(e,t){var n,r,i,s;t==null&&(t=" "),e=this.box(e),t=this.box(t),this.__ensure_numeric(e),this.__ensure_string(t);if(t.empty())throw R.ArgumentError["new"]();return this.size().gteq(e)?this:(n=e.minus(this.size()).divide(2),i=e.minus(this.size()).minus(n),r=n.gt(i)?n:i,s=t.size(),t=t.multiply(r),this.$string(t.literal().slice(0,n)+this.literal()+t.literal().slice(0,i)))},t.prototype.chars=function(e){return!e||e.call==null?this.to_enum("chars"):(R(this.__char_literals__()).each(e),this)},t.prototype.chomp=function(e){return e==null&&(e=null),this.dup().tap(function(t){return t.chomp_bang(e)})},t.prototype.chomp_bang=function(e){var t,n,r;e==null&&(e=null);if(e!==null)return e=this.$string(e),e.empty()?n=/((\r\n)|\n)+$/:e.equals("\n")||e.equals("\r")||e.equals("\r\n")?(t=((r=this.literal().match(/((\r\n)|\n|\r)$/))!=null?r[0]:void 0)||"\n",n=new RegExp("("+RegExp.escape(t)+")$")):n=new RegExp("("+RegExp.escape(e)+")$"),this.replace(this.literal().replace(n,"")),null;if(this.empty())return this.replace("")},t.prototype.chop=function(){return this.empty()?this.dup():this.end_with("\r\n")?this.$string(this.literal().replace(/\r\n$/,"")):this.slice(0,this.size().minus(1))},t.prototype.chr=function(){var e;return e=this.empty()?"":this.literal()[0],this.box(e)},t.prototype.clear=function(){return this.replace("")},t.prototype.concat=function(e){e=this.box(e);if(e.is_integer!=null){if(e.lt(0))throw new Error("RangeError");e=e.chr()}if((e!=null?e.to_str:void 0)==null)throw R.TypeError["new"]();return this.replace(this.literal()+e.to_str().literal())},t.prototype.count=function(){var e,t;e=1<=arguments.length?b.call(arguments,0):[];if(R(e.length).equals(0))throw RubyJS.ArgumentError["new"]();return t=new i(e),this.chars().count(function(e){return t.include(e)})},t.prototype["delete"]=function(){var e;return e=1<=arguments.length?b.call(arguments,0):[],this.dup().tap(function(t){return t.delete_bang.apply(t,e)})},t.prototype.delete_bang=function(){var e,t,n;e=1<=arguments.length?b.call(arguments,0):[];if(R(e.length).equals(0))throw RubyJS.ArgumentError["new"]();return n=new i(e),t=[],R(this.literal().split("")).each(function(e){if(!n.include(e))return t.push(e)}),t=t.join(""),this.equals(t)?null:this.replace(t)},t.prototype.downcase=function(){return this.dup().tap(function(e){return e.downcase_bang()})},t.prototype.downcase_bang=function(){return this.literal().match(/[A-Z]/)?this.replace(R(this.__char_literals__()).map(function(e){return e.match(/[A-Z]/)?e.toLowerCase():e}).join("").literal()):null},t.prototype.each_char=t.prototype.chars,t.prototype.each_line=function(){var e,t,n,r,i,s,o,u;e=1<=arguments.length?b.call(arguments,0):[],t=this.__extract_block(e);if(!t||t.call==null)return this.to_enum("lines",e[0]);if(e[0]===null){t(this);return}o=R(e[0]===void 0?R["$/"]:e[0]);if(o.to_str==null)throw R.TypeError["new"]();o=o.to_str(),o.length===0&&(o="\n\n"),r=0,s=null,n=this.dup();while(s=n.index(o,r))s=s.succ(),u=n.slice(r,s.minus(r)),r=s,t(u);if(i=R(n.literal().slice(r.literal())))i.empty()||t(i);return this},t.prototype.empty=function(){return this.literal().length===0},t.prototype.end_with=function(){var e,t,n,r,i;e=1<=arguments.length?b.call(arguments,0):[],e=this.$array_r(e).select(function(e){return(e!=null?e.to_str:void 0)!=null}).map(function(e){return e.to_str().literal()}),i=e.iterator();for(n=0,r=i.length;n<r;n++){t=i[n];if(this.literal().lastIndexOf(t)+t.length===this.literal().length)return!0}return!1},t.prototype.eql=function(e){return this["<=>"](e)===0},t.prototype.get=function(){return this.slice.apply(this,arguments)},t.prototype.set=function(e,t){var n,r;e=R(e),t=o.to_str(t),r=null;if(e.to_int!=null){r=e.to_int().literal(),r<0&&(r+=this.length);if(r<0||r>this.length)throw R.IndexError["new"]()}else if(e.to_str!=null){r=this.index(e);if(!r)throw R.IndexError["new"]()}return n=this.literal().split(""),n[r]=t,this.replace(n.join("")),t},t.prototype.gsub=function(e,n){var r,i;if(e===null)throw R.TypeError["new"]();i=t.string_literal(e),i!==null&&(e=new RegExp(R.RegExp.escape(i),"g"));if(!R.RegExp.isRegexp(e))throw R.TypeError["new"]();if(!e.global)throw"String#gsub: "+e+" has not set the global flag 'g'. "+e+"g";return n=o.to_str(n).literal(),r=this.literal().replace(e,n),new this.constructor(r)},t.prototype.include=function(e){e=this.box(e);if((e!=null?e.to_str:void 0)==null)throw new TypeError("TypeError");return e=e.to_str(),this.__ensure_string(e),this.literal().indexOf(e)>=0},t.prototype.index=function(e,t){var n;e=R(e),e.to_str!=null&&(e=e.to_str()),t&&(t=o.to_int(t),t.lt(0)&&(t=this.size().minus(t.abs())));if(e.is_string==null&&e.is_regexp==null&&e.is_fixnum==null)throw R.TypeError["new"]();if(t)if(t.gt(this.literal().length)||t.lt(0))return null;return n=this.literal().indexOf(e.valueOf(),+t),n<0?null:new R.Fixnum(n)},t.prototype.insert=function(e,t){var n,r,i,s;e=o.to_int(e),t=o.to_str(t),e=e.literal(),e<0&&(e=this.length-Math.abs(e)+1);if(e<0||e>this.length)throw R.IndexError["new"]();return i=this.literal().split(""),r=i.slice(0,e),s=t.literal().split(""),n=i.slice(e),this.replace(r.concat(s).concat(n).join(""))},t.prototype.inspect=function(){return this.dump()},t.prototype.lines=t.prototype.each_line,t.prototype.ljust=function(e,t){var n,r;t==null&&(t=" "),e=o.to_int(e);if(this.length>=e)return this.clone();t=typeof (r=this.box(t)).to_str=="function"?r.to_str():void 0;if((t!=null?t.is_string:void 0)==null)throw R.TypeError["new"]();if(t.empty())throw R.ArgumentError["new"]();return n=e.minus(this.length),this.$string(this+t.multiply(n).literal().slice(0,n))},t.prototype.lstrip=function(){return this.dup().tap(function(e){return e.lstrip_bang()})},t.prototype.lstrip_bang=function(){return this.literal().match(/^[\s\n\t]+/)?this.replace(this.literal().replace(/^[\s\n\t]+/g,"")):null},t.prototype.match=function(){var e,t,n,r,i,s,o,u;e=1<=arguments.length?b.call(arguments,0):[],t=this.__extract_block(e),o=R(e[0]),o.to_str!=null&&(o=o.to_str());if(o.is_string==null&&o.is_regexp==null)throw R.TypeError["new"]();n=this.literal(),s={};if(i=R(e[1]))i=i.to_int().literal(),s.string=n,s.offset=i,n=n.slice(i);return u=(r=n.match(o.literal(),i))?new R.MatchData(r,s):null,R["$~"]=u,t?u?t(u):[]:u},t.prototype["=~"]=function(){var e,t,n,r;e=1<=arguments.length?b.call(arguments,0):[],t=this.__extract_block(e),r=R(e[0]);if(r.is_string!=null)throw R.TypeError["new"]();return n=R(e[1]),this.match(r,n,t)},t.prototype.partition=function(e){var t,n,r,i,s,u;e=o.to_str(e).to_str();if(i=this.index(e))u=i+e.length,s=this.size()-u,t=this.slice(0,i),n=e.dup(),r=R(this.literal().slice(u));return t||(t=this),n||(n=R("")),r||(r=R("")),R([t,n,r])},t.prototype.prepend=function(e){e=R(e);if((e!=null?e.to_str:void 0)==null)throw R.TypeError["new"]();return this.replace(e.to_str().literal()+this.literal())},t.prototype.replace=function(e){if(typeof e!="string"){e=R(e);if(e.to_str==null)throw R.TypeError["new"]();e=e.to_str().valueOf()}return this.__literal__=e,this.length=e.length,this},t.prototype.reverse=function(){return this.dup().tap(function(e){return e.reverse_bang()})},t.prototype.reverse_bang=function(){return this.replace(this.literal().split("").reverse().join(""))},t.prototype.rindex=function(e,t){var n,r;if(t===null)throw R.TypeError["new"]("TypeError");e=R(e);if(e.to_str!=null)e=e.to_str();else{if(e.is_regexp==null)throw R.TypeError["new"]("TypeError");e=e}t=(r=this.box(t))!=null?r.to_int():void 0;if(t!==void 0){t.lt(0)&&(t=t.plus(this.size()));if(t.lt(0))return null;e.is_string!=null?(t=t.plus(e.size()),n=this.literal().slice(0,t).lastIndexOf(e.literal())):n=this.__rindex_with_regexp__(e,t)}else e.is_string!=null?n=this.literal().lastIndexOf(e.literal()):n=this.__rindex_with_regexp__(e);return n===-1?null:this.$int(n)},t.prototype.__rindex_with_regexp__=function(e,t){var n,r,i,s,o;e=e.literal(),t=this.box(t),n=0,r=this.size(),s=e.toString().match(/\/\^/)!==null,o=-1;while(i=this.literal().slice(n).match(e)){if(t&&t<n+i.index)break;o=n,n+=1;if(s||n>r)break}return o},t.prototype.rjust=function(e,t){var n,r;t==null&&(t=" "),e=o.to_int(e);if(this.length>=e)return this.clone();t=typeof (r=this.box(t)).to_str=="function"?r.to_str():void 0;if((t!=null?t.is_string:void 0)==null)throw R.TypeError["new"]();if(t.empty())throw R.ArgumentError["new"]();return n=e.minus(this.length),this.$string(t.multiply(n).literal().slice(0,n)+this)},t.prototype.rpartition=function(e){var t,n,r,i,s,u;e=o.to_str(e).to_str();if(i=this.rindex(e))u=i+e.length,s=this.size()-u,t=this.slice(0,i),n=e.dup(),r=R(this.literal().slice(u));return t||(t=R("")),n||(n=R("")),r||(r=this),R([t,n,r])},t.prototype.rstrip=function(){return this.dup().tap(function(e){return e.rstrip_bang()})},t.prototype.rstrip_bang=function(){return this.literal().match(/[\s\n\t]+$/)?this.replace(this.literal().replace(/[\s\n\t]+$/g,"")):null},t.isString=function(e){return!!(e===""||e&&e.charCodeAt&&e.substr)},t.prototype.scan=function(e,t){var n,r,i,s,u,a;t==null&&(t=null),R.RegExp.isRegexp(e)||(e=o.to_str_literal(e),e=RegExp.quote(e)),r=0,R["$~"]=null,u=t!==null?this:[];while(s=this.__literal__.slice(r).match(e)){n=r+s.index+s[0].length,s[0].length===0&&(n+=1),R["$~"]=new R.MatchData(s,{offset:r,string:this.__literal__}),s.length>1?a=new R.Array(function(){var e,t,n,r;n=s.slice(1,s.length),r=[];for(e=0,t=n.length;e<t;e++)i=n[e],r.push(new R.String(i));return r}()):a=new R.Array([new R.String(s[0])]),t!==null?t(a):(s.length===1&&(a=a.first()),u.push(a)),r=n;if(r>this.length)break}return t!==null?this:new R.Array(u)},t.prototype.size=function(){return this.$int(this.literal().length)},t.prototype.slice=function(e,t){var n,r,i,s,u;if(e===null)throw new R.TypeError["new"];e=R(e),i=this.size().literal();if(t!==void 0&&e.is_regexp==null)return r=o.to_int_literal(t),s=o.to_int_literal(e),s<0&&(s+=i),r<0?null:s<0||s>i?null:(u=this.literal().slice(s,s+r),new R.String(u));if(e.is_regexp==null)return e.is_string!=null?this.include(e)?e.dup():null:e.is_range!=null?(s=o.to_int_literal(e.begin()),r=o.to_int_literal(e.end()),s<0&&(s+=i),r<0&&(r+=i),e.exclude_end()||(r+=1),s===i?new R.String(""):s<0||s>i?null:(r>i&&(r=i),r-=s,r<0&&(r=0),u=this.literal().slice(s,s+r),new R.String(u))):(e=o.to_int_literal(e),n=this.size().literal(),e<0&&(e+=n),e<0||e>=this.size()?null:new R.String(this.literal()[e]))},t.prototype.split=function(e,t){var n,r;e==null&&(e=" "),R.RegExp.isRegexp(e)||(e=o.to_str(e).literal()),n=this.literal().split(e),n=R(function(){var e,t,i;i=[];for(e=0,t=n.length;e<t;e++)r=n[e],i.push(new this.constructor(r));return i}.call(this));while(r=n.last()){if(!r.empty())break;n.pop()}return e===" "&&n.delete_if(function(e){return e.empty()}),n},t.prototype.squeeze=function(){var e,t,n,r,s,o,u,a,f;a=1<=arguments.length?b.call(arguments,0):[],f=new i(a),n=this.literal().split(""),u=this.literal().length,r=1,s=0,o=n[0],e=a.length===0;while(r<u){t=n[r];if(t!==o||!e&&!f.include(t))n[s+=1]=o=t;r+=1}return s+1<u&&(n=n.slice(0,s+1||9e9)),new this.constructor(n.join(""))},t.prototype.start_with=function(){var e,t,n,r,i;e=1<=arguments.length?b.call(arguments,0):[],e=this.$array_r(e).select(function(e){return(e!=null?e.to_str:void 0)!=null}),i=e.iterator();for(n=0,r=i.length;n<r;n++){t=i[n];if(this.literal().indexOf(t.to_str().literal())===0)return!0}return!1},t.prototype.strip=function(){return this.dup().tap(function(e){return e.strip_bang()})},t.prototype.strip_bang=function(){var e,t;return e=this.lstrip_bang(),t=this.rstrip_bang(),e===null&&t===null?null:this},t.prototype.sub=function(e,t){return this.dup().tap(function(n){return n.sub_bang(e,t)})},t.prototype.sub_bang=function(e,n){var r,i;if(e===null)throw R.TypeError["new"]();r=t.string_literal(e),r!==null&&(e=new RegExp(R.RegExp.escape(r)));if(!R.RegExp.isRegexp(e))throw R.TypeError["new"]();if(e.global)throw"String#sub: "+e+" has set the global flag 'g'. "+e+"g";return n=o.to_str_literal(n),i=this.literal().replace(e,n),this.replace(i)},t.prototype.succ=function(){return this.dup().succ_bang()},t.prototype.succ_bang=function(){var e,n,r,i,s,o,u;if(this.length===0)return this.replace("");i=function(){var t,n,r,i;r=this.literal().split(""),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(e.charCodeAt(0));return i}.call(this),n=null,s=0,u=i.length-1;while(u>=0){o=i[u];if(t.fromCharCode(o).match(/[a-zA-Z0-9]/)!==null){n=0,48<=o&&o<57||97<=o&&o<122||65<=o&&o<90?i[u]=i[u]+1:o===57?(i[u]=48,n=49):o===122?i[u]=n=97:o===90&&(i[u]=n=65);if(n===0)break;s=u}u-=1}if(n===null){u=i.length-1,n=1;while(u>=0){o=i[u];if(!(o>=255)){i[u]=i[u]+1;break}i[u]=0,u-=1}}return r=function(){var n,r,s;s=[];for(n=0,r=i.length;n<r;n++)e=i[n],s.push(t.fromCharCode(e));return s}(),u<0&&(r[s]=v.fromCharCode(n,i[s])),this.replace(r.join(""))},t.prototype.next=t.prototype.succ,t.prototype.next_bang=t.prototype.succ_bang,t.prototype.swapcase=function(){return this.dup().tap(function(e){return e.swapcase_bang()})},t.prototype.swapcase_bang=function(){return this.literal().match(/[a-zA-Z]/)?this.replace(R(this.__char_literals__()).map(function(e){return e.match(/[a-z]/)?e.toUpperCase():e.match(/[A-Z]/)?e.toLowerCase():e}).join("").literal()):null},t.prototype.to_a=function(){return this.empty()?this.$array([]):this.$array([this])},t.prototype.valid_float=function(){var e;return e=this.literal().match(/^([\+\-]?\d[_\d]*)(\.\d*)?([eE][\+\-]?[\d_]+)?$/),(e!=null?e[0]:void 0)!=null},t.prototype.to_f=function(){var e,t,n;return e=this.literal().match(/^([\+\-]?[_\d\.]+)([Ee\+\-\d]+)?/),t=(n=e!=null?e[0]:void 0)!=null?n:"0.0",this.$float(Number(t.replace(/_/g,"")))},t.prototype.to_i=function(e){var t;e===void 0&&(e=10),e=o.to_int_literal(e);if(e<0||e>36||e===1)throw R.ArgumentError["new"]();return t=this.strip().literal(),t.match(/^([\+\-]?)([^\+^\-_]+)/)?(t=t.replace(/_/g,""),this.$int(parseInt(t,e))):R(0)},t.prototype.to_s=function(){return this},t.prototype.to_str=t.prototype.to_s,t.prototype.to_proc=function(){return function(e){return e[this.literal()]()}},t.prototype.tr=function(e,t){return this.dup().tap(function(n){return n.tr_bang(e,t)})},t.prototype.tr_bang=function(e,t){var n,r,s,o,u,a,f,l,c,h,p,d;r=this.__char_literals__(),s=new i([e]),o=s.include_chars().literal(),h=new i([t]),p=h.include_chars().literal(),d=p.length,l=[],u=0,f=r.length;while(u<f){n=r[u],u+=1;if(s.include(n)){a=o.indexOf(n);if(a===-1||a>=d)a=d-1;n=p[a]}l.push(n)}return c=l.join(""),this.equals(c)?null:this.replace(c)},t.prototype.tr_s=function(){throw R.NotImplementedError["new"]()},t.prototype.upcase=function(){return this.dup().tap(function(e){return e.upcase_bang()})},t.prototype.upcase_bang=function(){return this.literal().match(/[a-z]/)?this.replace(R(this.__char_literals__()).map(function(e){return e.match(/[a-z]/)?e.toUpperCase():e}).join("").literal()):null},t.prototype.upto=function(e,t,n){var r,i,s;e=this.box(e),n===void 0&&(t!=null?t.call:void 0)!=null&&(n=t,t=!1);if((e!=null?e.is_string:void 0)==null)throw R.TypeError["new"]();if(!n||n.call==null)return RubyJS.Enumerator["new"](this,"upto",e,t);e=e.to_str(),i=this.dup(),r=t===!1?"lteq":"lt",s=e.size();while(i[r](e)&&!i.size().gt(s))n(i),i=i.succ();return this},t.prototype.__char_literals__=function(){return this.__literal__.split("")},t.prototype["<<"]=t.prototype.concat,t.prototype.append=t.prototype["<<"],t.prototype.equal_case=t.prototype["==="],t.prototype.equals=t.prototype["=="],t.prototype.cmp=t.prototype["<=>"],t.prototype.modulo=t.prototype["%"],t.prototype.plus=t.prototype["+"],t.prototype.minus=t.prototype["-"],t.prototype.multiply=t.prototype["*"],t.prototype.divide=t.prototype["/"],t}(RubyJS.Object),i=function(){function e(e){var t,n,r,i,s,u;this.patterns=e,this.incl=null,this.excl=null,u=this.patterns;for(i=0,s=u.length;i<s;i++)r=u[i],n=o.to_str(r).literal(),n.length!==0&&(n[0]==="^"&&n.length>1?(t=this.__char_table__(n.slice(1)),this.excl=this.excl?this.excl["&"](t):R(t)):(t=this.__char_table__(n),this.incl=this.incl?this.incl["&"](t):R(t)))}return e.prototype.include_chars=function(){return this.incl||R([])},e.prototype.exclude_chars=function(){return this.excl||R([])},e.prototype.exclude=function(e){return!this.include(e)},e.prototype.include=function(e){return this.incl&&this.excl?this.incl.include(e)&&!this.excl.include(e):this.incl?this.incl.include(e):this.excl?!this.excl.include(e):!1},e.prototype.__char_table__=function(e){var t,n,r,i,s;t=[];if(n=e.match(/[^\\]\-./g))for(i=0,s=n.length;i<s;i++)r=n[i],t=t.concat(this.__char_range__(r[0],r[2]));return t=t.concat(e.replace(/[^\\]\-./g,"").split("")),t},e.prototype.__char_range__=function(e,t){var n,r;n=[],e=R(e);if(!e["<="](t))throw R.ArgumentError["new"]();r=0;while(e["<="](t)){r++,n.push(e.literal()),e=e.succ();if(r===1e4)throw R.ArgumentError["new"]("ERROR: "+e+" "+t)}return n},e}(),a=RubyJS.String.prototype,u=RegExp,RubyJS.RegExp=function(e){function t(e){this.__literal__=e}return E(t,e),t.prototype.IGNORECASE=1,t.prototype.EXTENDED=2,t.prototype.MULTILINE=4,t["new"]=function(e){return typeof e=="string"?e=this.__compile__(e):RubyJS.Regexp.isRegexp(e)||(e.is_regexp!=null?e=e.literal():e=this.__compile__(o.to_str_literal(e))),new RubyJS.Regexp(e)},t.compile=t["new"],t.try_convert=function(e){return e===null?null:this.isRegexp(e)?new t(e):e.to_regexp!=null?e.to_regexp():null},t.isRegexp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"||e.is_regexp!=null},t.prototype.is_regexp=function(){return!0},t.prototype.literal=function(){return this.__literal__},t.prototype.inspect=function(){var e;return e=this.source().literal(),R("/"+e+"/"+this.__flags__())},t.prototype["=="]=function(e){return e=R(e),e.literal().source===this.literal().source&&e.casefold()===this.casefold()},t.prototype["==="]=function(e){return this.match(e)!==null},t.prototype["=~"]=function(e,t){var n;return n=this.match(e,t),n!=null?n.begin(0):void 0},t.prototype.casefold=function(){return this.literal().ignoreCase},t.prototype.encoding=function(){throw RubyJS.NotSupportedError["new"]()},t.prototype.eql=function(){return this["=="].apply(this,arguments)},t.prototype.fixed_encoding=function(){throw RubyJS.NotSupportedError["new"]()},t.prototype.hash=function(){throw RubyJS.NotSupportedError["new"](
)},t.prototype.match=function(e,t){var n,r,i,s;return n=this.__extract_block(Array.prototype.slice.call(arguments)),e===null?R["$~"]=null:(e=o.to_str_literal(e),i={string:e,regexp:this},t&&(i.offset=t,e=e.slice(t)),(r=e.match(this.literal()))?R["$~"]=new R.MatchData(r,i):R["$~"]=null),s=R["$~"],n?s?n(s):R([]):s},t.prototype.quote=function(e){return new R.Regexp(R.Regexp.escape(e))},t.prototype.source=function(){return R(this.literal().source)},t.prototype.to_s=function(){return R("("+this.source()+")")},t.last_match=function(e){return e&&R["$~"]?R["$~"][e]:R["$~"]},t.quote=function(e){return this.escape(e)},t.escape=function(e){return e+="",e.replace(/([.?*+^$[\](){}|-])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\s]/g,"\\ ")},t.union=function(){var e,t,n,r;return t=1<=arguments.length?b.call(arguments,0):[],t.length===0?R(/(?!)/):(n=R(t[0]),n.is_array!=null&&t.length===1&&(t=n),r=function(){var n,r,i;i=[];for(n=0,r=t.length;n<r;n++)e=t[n],e=R(e),e.is_regexp!=null?i.push(e.to_s()):i.push(o.to_str(e));return i}(),new RubyJS.Regexp(new u(r.join("|"))))},t.__compile__=function(e){try{return new u(e)}catch(t){throw R.RegexpError["new"]()}},t.prototype.__flags__=function(){return this.casefold()?"i":""},t.prototype.names=function(){throw RubyJS.NotSupportedError["new"]()},t.prototype.named_captures=function(){throw RubyJS.NotSupportedError["new"]()},t.prototype.options=function(){throw RubyJS.NotSupportedError["new"]()},t}(RubyJS.Object),RubyJS.Regexp=RubyJS.RegExp,RubyJS.extend(RegExp,{quote:function(e){return new RegExp(RegExp.escape(e))},escape:function(e){return(e+"").replace(/([\s.?*+^$[\]\\(){}|-])/g,"\\$1")}}),RubyJS.Numeric=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t.ObjToString=Object.prototype.toString,t.isNumeric=function(e){var t;return t=typeof e,e===null||e===void 0||t==="string"||t==="boolean"?!1:t==="number"||t==="object"&&e.constructor===Number.prototype.constructor?!0:e.valueOf!=null&&typeof e.valueOf()=="number"},t.try_convert=function(e){return this.isNumeric(e)?this["new"](e):null},t["new"]=function(e){return e%1===0?R.Fixnum["new"](e):new R.Float(e)},t.typecast=function(e){return e%1===0?new RubyJS.Fixnum(e):new RubyJS.Float(e)},t.prototype.is_numeric=function(){return!0},t.prototype["<=>"]=function(e){return this===e?0:null},t.prototype.abs=function(){return this["<"](0)?this.uminus():this},t.prototype.abs2=function(){return(typeof this.nan=="function"?this.nan():void 0)?this:this.abs()["**"](2)},t.prototype.ceil=function(){return this.to_f().ceil()},t.prototype.coerce=function(e){if(e===null||e===!1||e===void 0)throw RubyJS.TypeError["new"]();e=this.box(e);if(e.is_string!=null)return this.$array([this.$float(e),this.to_f()]);if(e.__proto__===this.__proto__)return this.$array([e,this]);if(e.is_float!=null)return this.$array([e,this.to_f()]);if(e.is_fixnum!=null)return this.$array([e,this]);if(e.is_numeric!=null)return this.$array([e.to_f(),this.to_f()]);throw RubyJS.TypeError["new"]()},t.prototype.div=function(e){e=this.box(e);if(e.to_int==null)throw RubyJS.TypeError["new"]();if(e.zero())throw new Error("ZeroDivisionError");return this.divide(e).floor()},t.prototype.divmod=function(e){var t,n;return n=this.div(e).floor(),t=this.minus(n.multiply(e)),R([n,t])},t.prototype.eql=function(e){return e=this.box(e),e?this.__proto__!==e.__proto__?!1:this["=="](e)?!0:!1:!1},t.prototype.inspect=function(){return""+this.literal()},t.prototype.fdiv=function(e){return this.to_f()["/"](R(e).to_f())},t.prototype.floor=function(){return this.to_f().floor()},t.prototype.magnitude=function(){return this.abs()},t.prototype.modulo=function(e){return e=this.box(e),this["-"](e["*"](this.div(e)))},t.prototype.nonzero=function(){return this.zero()?null:this},t.prototype.quo=function(e){var t;e=this.box(e);if(e.zero())throw new Error("ZeroDivisionError");return t=this.coerce(e),this["/"](t.first())},t.prototype.rect=function(){if(arguments.length>0)throw R.ArgumentError["new"]();return R([this,R(0)])},t.prototype.rectangular=t.prototype.rect,t.prototype.remainder=function(e){var t;return e=this.box(e),t=this["%"](e),!t["=="](0)&&(this["<"](0)&&e[">"](0)||this[">"](0)&&e["<"](0))?t["-"](e):t},t.prototype.round=function(e){return this.to_f().round(e)},t.prototype.step=function(e,t,n){var r,i,s,o;t==null&&(t=1),e=this.box(e),(n!=null?n.call:void 0)==null&&(n=t,t=1),t=this.box(t);if((n!=null?n.call:void 0)==null)return this.to_enum("step",e,t);if(t.equals(0))throw new R.ArgumentError("ArgumentError");o=this;if(o.is_float!=null||e.is_float!=null||t.is_float!=null){s=e.to_f().minus(o).divide(t),i=R(0).to_f();if(t.gt(0))while(i.lteq(s))r=i.multiply(t).plus(o),e.lt(r)&&(r=e),n(r),i=i.plus(1);else while(i.lteq(s))r=i.multiply(t).plus(o),e.gt(r)&&(r=e),n(r),i=i.plus(1)}else if(t.gt(0))while(!o.gt(e))n(o),o=o.plus(t);else while(!o.lt(e))n(o),o=o.plus(t);return this},t.prototype.to_int=function(){return this.to_i()},t.prototype.truncate=function(){return this.to_f().truncate()},t.prototype.uminus=function(){return this.multiply(-1)},t.prototype.zero=function(){return this["=="](0)},t}(RubyJS.Object),RubyJS.Integer=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return E(t,e),t["new"]=function(e){return new t(e)},t.isInteger=function(e){return this.isNumeric(e)&&e%1===0},t.prototype.is_integer=function(){return!0},t.prototype.unbox=function(){return this.literal()},t.prototype.chr=function(){return new R.String(String.fromCharCode(this.literal()))},t.prototype.denominator=function(){return this.$int(1)},t.prototype.upto=function(e,t){var n;e=R(e);if((e!=null?e.to_int:void 0)==null)throw RubyJS.ArgumentError["new"]();if(!t||t.call==null)return RubyJS.Enumerator["new"](this,"upto",e);e=e.floor().literal();if(this.literal()<=e){n=this.literal();while(n<=e)t(new R.Fixnum(n)),n+=1;return this}return this},t.prototype.downto=function(e,t){var n;e=R(e);if((e!=null?e.to_int:void 0)==null)throw RubyJS.ArgumentError["new"]();if(!t||t.call==null)return RubyJS.Enumerator["new"](this,"downto",e);e=Math.ceil(e.literal());if(this.literal()>=e){n=this.literal();while(n>=e)t(new R.Fixnum(n)),n-=1;return this}return this},t.prototype.even=function(){return this.literal()%2===0},t.prototype.gcd=function(e){var t,n,r;e=this.box(e),this.__ensure_args_length(arguments,1),this.__ensure_integer__(e),t=this.literal(),n=e.literal(),r=null;while(n!==0)r=n,n=t%n,t=r;return(new R.Fixnum(t)).numerator()},t.prototype.gcdlcm=function(e){return e=this.box(e),this.__ensure_args_length(arguments,1),this.__ensure_integer__(e),this.$array([this.gcd(e),this.lcm(e)])},t.prototype.lcm=function(e){var t;return e=R(e),this.__ensure_args_length(arguments,1),this.__ensure_integer__(e),t=new R.Fixnum(this.literal()*e.literal()/this.gcd(e)),t.numerator()},t.prototype.numerator=function(){return this.lt(0)?this.$int(this.literal()*-1):this},t.prototype.odd=function(){return!this.even()},t.prototype.ord=function(){return this},t.prototype.next=function(){return this.plus(R.Fixnum["new"](1))},t.prototype.pred=function(){return this.minus(1)},t.prototype.round=function(e){var t;return e===void 0?this:(e=this.box(e),e.gt(0)?this.to_f():e.zero()?this:(t=Math.pow(10,e),this.$int(Math.round(this.literal()*t)/t)))},t.prototype.succ=t.prototype.next,t.prototype.times=function(e){var t,n;if((e!=null?e.call:void 0)==null)return this.to_enum("times");n=this.literal();if(n>0){t=0;while(t<n)e(new R.Fixnum(t)),t+=1;return this}return this},t.prototype.to_i=function(){return this},t.prototype.toString=function(){return""+this.literal()},t.prototype.__ensure_integer__=function(e){if((e!=null?e.is_integer:void 0)==null)throw RubyJS.TypeError["new"]()},t.prototype.to_int=t.prototype.to_i,t.prototype.truncate=t.prototype.to_i,t}(RubyJS.Numeric),RubyJS.Fixnum=function(e){function t(e){this.__literal__=e}return E(t,e),t.include(RubyJS.Comparable),t["new"]=function(e){return new RubyJS.Fixnum(e)},t.try_convert=function(e){e=R(e);if(e.to_int==null)throw RubyJS.TypeError["new"]();return e},t.prototype.is_fixnum=function(){return!0},t.prototype.literal=function(){return this.__literal__},t.prototype.valueOf=t.prototype.literal,t.prototype.unbox=t.prototype.literal,t.prototype.dup=function(){return t["new"](this.literal())},t.prototype["=="]=function(e){return this.box(e).is_fixnum==null?e["=="](this):this["<=>"](e)===0},t.prototype["==="]=t.prototype["=="],t.prototype["<=>"]=function(e){if(typeof e!="number"){e=R(e);if(e.is_numeric==null)return null;if(e.to_int==null)throw RubyJS.TypeError["new"]();e=e.literal()}return this.literal()<e?-1:this.literal()>e?1:0},t.prototype["+"]=function(e){return RubyJS.Numeric.typecast(this.literal()+o.to_num_literal(e))},t.prototype["-"]=function(e){return RubyJS.Numeric.typecast(this.literal()-o.to_num_literal(e))},t.prototype["/"]=function(e){var n;e=t.try_convert(e);if(e.is_float!=null&&e.zero())return this.literal()>0?R("Infinity"):R("-Infinity");if(+e===0)throw new Error("ZeroDivisionError");return n=RubyJS.Numeric.typecast(this.literal()/e.literal()),e.is_float!=null?n:n.floor()},t.prototype["*"]=function(e){return RubyJS.Numeric.typecast(this.literal()*o.to_num_literal(e))},t.prototype["**"]=function(e){var t;return e=this.box(e),t=this.box(Math.pow(this.literal(),e.unbox())),e.is_float!=null?t.to_f():t.to_i()},t.prototype["%"]=function(e){var n,r,i,s;i=this.box(e).is_float!=null,r=t.try_convert(e);if(r.zero())throw new Error("ZeroDivisionError");return r=r.to_int(),n=this["/"](r),s=this.minus(n.multiply(r)),i?s.to_f():s.to_i()},t.prototype.fdiv=function(e){e=R(e);if(e.is_numeric==null)throw RubyJS.TypeError["new"]();return this.__ensure_args_length(arguments,1),this.to_f().divide(e.to_f())},t.prototype.to_f=function(){return this.$float(this.literal())},t.prototype.to_s=function(e){e==null&&(e=10),e=this.box(e);if(e.lt(2)||e.gt(36))throw RubyJS.ArgumentError["new"]();return this.box(""+this.literal().toString(e.unbox()))},t.prototype.equals=t.prototype["=="],t.prototype.cmp=t.prototype["<=>"],t.prototype.modulo=t.prototype["%"],t.prototype.plus=t.prototype["+"],t.prototype.minus=t.prototype["-"],t.prototype.multiply=t.prototype["*"],t.prototype.divide=t.prototype["/"],t}(RubyJS.Integer),RubyJS.Float=function(e){function t(e){this.__literal__=e}return E(t,e),t.include(RubyJS.Comparable),t.INFINITY=1/0,t.NAN=0/0,t.DIG=15,t.EPSILON=2.220446049250313e-16,t.MANT_DIG=53,t.MAX_10_EXP=308,t.MIN_10_EXP=-307,t.MAX_EXP=1024,t.MIN_EXP=-1021,t.MAX=1.7976931348623157e308,t.MANT_DIG=53,t.MIN=2.2250738585072014e-308,t.RADIX=2,t["new"]=function(e){return new RubyJS.Float(e)},t.prototype.is_float=function(){return!0},t.prototype.toString=function(){return this.literal().toString()},t.prototype.valueOf=function(){return this.__literal__},t.prototype.literal=function(){return this.__literal__},t.prototype.unbox=t.prototype.literal,t.isFloat=function(e){return RubyJS.Numeric.isNumeric(e)&&!RubyJS.Integer.isInteger(e)},t.prototype.arg=function(){return this.nan()?this:this.lt(0)?this.$float(Math.PI):this.$float(0)},t.prototype.ceil=function(){return new RubyJS.Fixnum(Math.ceil(this.literal()))},t.prototype.inspect=function(){return this.to_s()},t.prototype["<=>"]=function(e){if(this.box(e).is_numeric==null)return null;e=o.to_num_literal(e);if(this.literal()===e)return 0;if(this.literal()<e)return-1;if(this.literal()>e)return 1},t.prototype.dup=function(){return t["new"](this.literal())},t.prototype["=="]=function(e){return e=this.box(e),this.literal()===e.literal()},t.prototype["+"]=function(e){return new t(this.literal()+o.to_num_literal(e))},t.prototype["-"]=function(e){return new t(this.literal()-o.to_num_literal(e))},t.prototype["*"]=function(e){return new t(this.literal()*o.to_num_literal(e))},t.prototype["/"]=function(e){return new t(this.literal()/o.to_num_literal(e))},t.prototype["**"]=function(e){return new t(Math.pow(this.literal(),o.to_num_literal(e))+0)},t.prototype["%"]=function(e){var n,r,i;e=this.box(e);if(e.equals(0))throw new Error("ZeroDivisionError");if(!this.finite())return this.box(t.NAN).to_f();if(r=typeof e.infinite=="function"?e.infinite():void 0){if(r===-1)return e;if(r===1)return this}return n=this["/"](e).floor(),i=this.literal()-n.literal()*e.literal(),new t(i)},t.prototype.eql=function(e){return e=this.box(e),e.is_float==null?!1:this.equals(e)},t.prototype.finite=function(){return!this.infinite()&&!this.nan()},t.prototype.infinite=function(){return this.literal()===t.INFINITY?1:this.literal()===-t.INFINITY?-1:null},t.prototype.nan=function(){return isNaN(this.literal())},t.prototype.to_f=function(){return this.dup()},t.prototype.to_i=function(){return this.literal()<0?this.ceil():this.floor()},t.prototype.floor=function(){return new RubyJS.Fixnum(Math.floor(this.literal()))},t.prototype.quo=function(e){return this.__ensure_args_length(arguments,1),e=this.box(e),this.divide(e)},t.prototype.round=function(e){var t,n;e==null&&(e=0),typeof e=="number"?e=Math.floor(e):e=o.to_int_literal(e);if(this.infinite())throw new TypeError("FloatDomainError");if(this.nan())throw new TypeError("RangeError");return e===0?new RubyJS.Fixnum(Math.round(this.literal())):(t=Math.pow(10,e)+0,n=Math.round(this.literal()*t)/t,e>0?new RubyJS.Float(n):new RubyJS.Fixnum(n))},t.prototype.to_s=function(){var e,t;return t=""+this.literal(),this.nan()?t="NaN":(e=this.infinite())?(e===-1&&(t="-Infinity"),e===1&&(t="Infinity")):t.indexOf(".")<0&&(t+=".0"),this.$string(t)},t.prototype.angle=t.prototype.arg,t.prototype.fdiv=t.prototype.quo,t.prototype.magnitude=t.prototype.abs,t.prototype.phase=t.prototype.arg,t.prototype.to_int=t.prototype.to_i,t.prototype.truncate=t.prototype.to_i,t.prototype["==="]=t.prototype["=="],t.prototype.equals=t.prototype["=="],t.prototype.equal_case=t.prototype["==="],t.prototype.cmp=t.prototype["<=>"],t.prototype.modulo=t.prototype["%"],t.prototype.plus=t.prototype["+"],t.prototype.minus=t.prototype["-"],t.prototype.multiply=t.prototype["*"],t.prototype.exp=t.prototype["**"],t.prototype.divide=t.prototype["/"],t}(RubyJS.Numeric),RubyJS.Time=function(e){function t(){}return E(t,e),t.include(RubyJS.Comparable),t["new"]=function(){return new RubyJS.Time},t}(RubyJS.Object),RubyJS.register_type_handlers()}).call(this);